// Code generated by Wire. DO NOT EDIT.

//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package app

import (
	"github.com/tbxark/go-base-api/internal/biz/api"
	"github.com/tbxark/go-base-api/internal/biz/dash"
	"github.com/tbxark/go-base-api/internal/biz/task"
	"github.com/tbxark/go-base-api/internal/pkg/dao"
	"github.com/tbxark/go-base-api/pkg/cache"
	"github.com/tbxark/go-base-api/pkg/cdn/qiniu"
	"github.com/tbxark/go-base-api/pkg/dao/client"
	"github.com/tbxark/go-base-api/pkg/wechat"
)

// Injectors from wire.go:

func NewApplication(_api *api.Config, _dash *dash.Config, _dao *client.Config, _wx *wechat.Config, _cdn *qiniu.Config) (*Application, error) {
	entClient, err := client.NewDbClient(_dao)
	if err != nil {
		return nil, err
	}
	database := dao.NewDatabase(entClient)
	wechatWechat := wechat.NewWechat(_wx)
	cdn := qiniu.NewCDN(_cdn)
	byteCache := cache.NewCache()
	web := dash.NewWebServer(_dash, database, wechatWechat, cdn, byteCache)
	apiWeb := api.NewWebServer(_api, database, wechatWechat, cdn, byteCache)
	initialize := task.NewInitialize(database)
	application := CreateApplication(web, apiWeb, initialize)
	return application, nil
}
